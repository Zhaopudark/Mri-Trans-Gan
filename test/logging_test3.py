import logging
import logging.handlers
logging.basicConfig()
logger = logging.getLogger()
logger.setLevel(logging.DEBUG)
# print(logger.handle)
# logger.removeHandler(hdlr)
# logger.basicConfig(format='%(asctime)s - %(name)s - %(levelname)s -%(module)s:  %(message)s',datefmt="%Y/%m/%d %I:%M:%S",encoding='utf-8',level=logging.INFO)
# file_handler = logging.FileHandler(filename='train.log',encoding='utf-8')
file_handler = logging.handlers.RotatingFileHandler(filename='train.log',maxBytes=1*1024*1024, backupCount=3)
file_handler.setLevel(logging.INFO)
stream_handler = logging.StreamHandler()
stream_handler.setLevel(logging.WARNING)
formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s',datefmt="%Y/%m/%d %I:%M:%S")
file_handler.setFormatter(formatter)
formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s',datefmt="%Y/%m/%d %I:%M:%S")
stream_handler.setFormatter(formatter)
logger.addHandler(file_handler)
logger.addHandler(stream_handler)

logger2 = logging.getLogger("main_logger2")
logger2.setLevel(logging.DEBUG)
file_handler = logging.handlers.RotatingFileHandler('train.log',maxBytes=1*1024*1024, backupCount=3)
file_handler.setLevel(logging.INFO)
formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s',datefmt="%Y/%m/%d %I:%M:%S")
file_handler.setFormatter(formatter)
logger2.addHandler(file_handler)


logger.warning('warning1')
logger.warning('warningabc2')
logger.info('abc')
logger.warning('warning1')
logger.warning('warningabc2')
logger.info('abc')


logger2.warning('warning1')
logger2.warning('warningabc2')
logger2.info('abc')
logger2.warning('warning1')
logger2.warning('warningabc2')
logger2.info('abc')
# import logging
# logging.basicConfig(level=logging.INFO)
# logging.warning('Started')
# # mylib.do_something()
# logging.info('Finished')
